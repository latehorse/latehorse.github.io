!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.axios=t():e.axios=t()}(this,function(){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){var t=new s(e),n=o(s.prototype.request,t);return i.extend(n,s.prototype,t),i.extend(n,t),n}var i=n(2),o=n(3),s=n(5),a=n(6),u=r(a);u.Axios=s,u.create=function(e){return r(i.merge(a,e))},u.Cancel=n(23),u.CancelToken=n(24),u.isCancel=n(20),u.all=function(e){return Promise.all(e)},u.spread=n(25),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";function o(e){return"[object Array]"===c.call(e)}function r(e){return null!==e&&"object"==typeof e}function i(e){return"[object Function]"===c.call(e)}function s(e,t){if(null!=e)if("object"==typeof e||o(e)||(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var a=n(3),u=n(4),c=Object.prototype.toString;e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===c.call(e)},isBuffer:u,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:r,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===c.call(e)},isFile:function(e){return"[object File]"===c.call(e)},isBlob:function(e){return"[object Blob]"===c.call(e)},isFunction:i,isStream:function(e){return r(e)&&i(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function n(){function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=n(r[t],e):r[t]=e}for(var r={},t=0,i=arguments.length;t<i;t++)s(arguments[t],e);return r},extend:function(n,e,r){return s(e,function(e,t){n[t]=r&&"function"==typeof e?a(e,r):e}),n},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){"use strict";e.exports=function(n,r){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(r,e)}}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer);var t}},function(e,t,n){"use strict";function i(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var r=n(6),o=n(2),s=n(17),a=n(18),u=n(21),c=n(22);i.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:e},arguments[1])),(e=o.merge(r,this.defaults,{method:"get"},e)).method=e.method.toLowerCase(),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url));var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(n){i.prototype[n]=function(e,t){return this.request(o.merge(t||{},{method:n,url:e}))}}),o.forEach(["post","put","patch"],function(r){i.prototype[r]=function(e,t,n){return this.request(o.merge(n||{},{method:r,url:e,data:t}))}}),e.exports=i},function(e,t,n){"use strict";function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,o=n(2),s=n(7),a={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:("undefined"!=typeof XMLHttpRequest?i=n(8):"undefined"!=typeof process&&(i=n(8)),i),transformRequest:[function(e,t){return s(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],function(e){u.headers[e]={}}),o.forEach(["post","put","patch"],function(e){u.headers[e]=o.merge(a)}),e.exports=u},function(e,t,n){"use strict";var i=n(2);e.exports=function(n,r){i.forEach(n,function(e,t){t!==r&&t.toUpperCase()===r.toUpperCase()&&(n[r]=e,delete n[t])})}},function(e,t,h){"use strict";var p=h(2),d=h(9),m=h(12),g=h(13),y=h(14),v=h(10),w="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||h(15);e.exports=function(f){return new Promise(function(n,r){var i=f.data,o=f.headers;p.isFormData(i)&&delete o["Content-Type"];var s=new XMLHttpRequest,e="onreadystatechange",a=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in s||y(f.url)||(s=new window.XDomainRequest,e="onload",a=!0,s.onprogress=function(){},s.ontimeout=function(){}),f.auth){var t=f.auth.username||"",u=f.auth.password||"";o.Authorization="Basic "+w(t+":"+u)}if(s.open(f.method.toUpperCase(),m(f.url,f.params,f.paramsSerializer),!0),s.timeout=f.timeout,s[e]=function(){if(s&&(4===s.readyState||a)&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in s?g(s.getAllResponseHeaders()):null,t={data:f.responseType&&"text"!==f.responseType?s.response:s.responseText,status:1223===s.status?204:s.status,statusText:1223===s.status?"No Content":s.statusText,headers:e,config:f,request:s};d(n,r,t),s=null}},s.onerror=function(){r(v("Network Error",f,null,s)),s=null},s.ontimeout=function(){r(v("timeout of "+f.timeout+"ms exceeded",f,"ECONNABORTED",s)),s=null},p.isStandardBrowserEnv()){var c=h(16),l=(f.withCredentials||y(f.url))&&f.xsrfCookieName?c.read(f.xsrfCookieName):void 0;l&&(o[f.xsrfHeaderName]=l)}if("setRequestHeader"in s&&p.forEach(o,function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete o[t]:s.setRequestHeader(t,e)}),f.withCredentials&&(s.withCredentials=!0),f.responseType)try{s.responseType=f.responseType}catch(n){if("json"!==f.responseType)throw n}"function"==typeof f.onDownloadProgress&&s.addEventListener("progress",f.onDownloadProgress),"function"==typeof f.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",f.onUploadProgress),f.cancelToken&&f.cancelToken.promise.then(function(e){s&&(s.abort(),r(e),s=null)}),void 0===i&&(i=null),s.send(i)})}},function(e,t,n){"use strict";var i=n(10);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var s=n(11);e.exports=function(e,t,n,r,i){var o=new Error(e);return s(o,t,n,r,i)}},function(e,t){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var s=n(2);e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(s.isURLSearchParams(t))r=t.toString();else{var i=[];s.forEach(t,function(e,t){null!=e&&(s.isArray(e)&&(t+="[]"),s.isArray(e)||(e=[e]),s.forEach(e,function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))}))}),r=i.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}},function(e,t,n){"use strict";var o=n(2);e.exports=function(e){var t,n,r,i={};return e&&o.forEach(e.split("\n"),function(e){r=e.indexOf(":"),t=o.trim(e.substr(0,r)).toLowerCase(),n=o.trim(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i}},function(e,t,n){"use strict";var s=n(2);e.exports=s.isStandardBrowserEnv()?function(){function n(e){var t=e;return i&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var r,i=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return r=n(window.location.href),function(e){var t=s.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0}},function(e,t){"use strict";function a(){this.message="String contains an invalid character"}(a.prototype=new Error).code=5,a.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,r=String(e),i="",o=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.charAt(0|o)||(s="=",o%1);i+=s.charAt(63&t>>8-o%1*8)){if(255<(n=r.charCodeAt(o+=.75)))throw new a;t=t<<8|n}return i}},function(e,t,n){"use strict";var a=n(2);e.exports=a.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),a.isString(r)&&s.push("path="+r),a.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(2);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(2),o=n(19),s=n(20),a=n(6);e.exports=function(t){return r(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return r(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return s(e)||(r(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(t,n,e){return r.forEach(e,function(e){t=e(t,n)}),t}},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}var i=n(23);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r(function(e){t=e}),cancel:t}},e.exports=r},function(e,t){"use strict";e.exports=function(t){return function(e){return t.apply(null,e)}}}])}),function(){var e,c,l,t,n,f,h,p,d,m,g,y,v,w,S,x,b,k,_,E,T,A,F,C,N,r,R=function(e){var t=new R.Index;return t.pipeline.add(R.trimmer,R.stopWordFilter,R.stemmer),e&&e.call(t,t),t};R.version="0.7.1",R.utils={},R.utils.warn=(r=this,function(e){r.console&&console.warn&&console.warn(e)}),R.utils.asString=function(e){return null==e?"":e.toString()},R.EventEmitter=function(){this.events={}},R.EventEmitter.prototype.addListener=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=e;if("function"!=typeof t)throw new TypeError("last argument must be a function");n.forEach(function(e){this.hasHandler(e)||(this.events[e]=[]),this.events[e].push(t)},this)},R.EventEmitter.prototype.removeListener=function(e,t){if(this.hasHandler(e)){var n=this.events[e].indexOf(t);this.events[e].splice(n,1),this.events[e].length||delete this.events[e]}},R.EventEmitter.prototype.emit=function(e){if(this.hasHandler(e)){var t=Array.prototype.slice.call(arguments,1);this.events[e].forEach(function(e){e.apply(void 0,t)})}},R.EventEmitter.prototype.hasHandler=function(e){return e in this.events},"undefined"!=typeof module&&module.exports&&(nodejieba_segment=require("nodejieba")),R.tokenizer=function(e){if(!arguments.length||null==e||null==e)return[];if(Array.isArray(e))return e.map(function(e){return R.utils.asString(e).toLowerCase()});var t=e.toString().trim().toLowerCase();return"undefined"!=typeof nodejieba_segment?nodejieba_segment.cut(t,!0):t.split(R.tokenizer.seperator)},R.tokenizer.seperator=/[\s\-]+/,R.tokenizer.load=function(e){var t=this.registeredFunctions[e];if(!t)throw new Error("Cannot load un-registered function: "+e);return t},R.tokenizer.label="default",R.tokenizer.registeredFunctions={default:R.tokenizer},R.tokenizer.registerFunction=function(e,t){t in this.registeredFunctions&&R.utils.warn("Overwriting existing tokenizer: "+t),e.label=t,this.registeredFunctions[t]=e},R.Pipeline=function(){this._stack=[]},R.Pipeline.registeredFunctions={},R.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&R.utils.warn("Overwriting existing registered function: "+t),e.label=t,R.Pipeline.registeredFunctions[e.label]=e},R.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||R.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},R.Pipeline.load=function(e){var n=new R.Pipeline;return e.forEach(function(e){var t=R.Pipeline.registeredFunctions[e];if(!t)throw new Error("Cannot load un-registered function: "+e);n.add(t)}),n},R.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(e){R.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)},this)},R.Pipeline.prototype.after=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);var n=this._stack.indexOf(e);if(-1==n)throw new Error("Cannot find existingFn");n+=1,this._stack.splice(n,0,t)},R.Pipeline.prototype.before=function(e,t){R.Pipeline.warnIfFunctionNotRegistered(t);var n=this._stack.indexOf(e);if(-1==n)throw new Error("Cannot find existingFn");this._stack.splice(n,0,t)},R.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},R.Pipeline.prototype.run=function(e){for(var t=[],n=e.length,r=this._stack.length,i=0;i<n;i++){for(var o=e[i],s=0;s<r&&void 0!==(o=this._stack[s](o,i,e))&&""!==o;s++);void 0!==o&&""!==o&&t.push(o)}return t},R.Pipeline.prototype.reset=function(){this._stack=[]},R.Pipeline.prototype.toJSON=function(){return this._stack.map(function(e){return R.Pipeline.warnIfFunctionNotRegistered(e),e.label})},R.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},R.Vector.Node=function(e,t,n){this.idx=e,this.val=t,this.next=n},R.Vector.prototype.insert=function(e,t){this._magnitude=void 0;var n=this.list;if(!n)return this.list=new R.Vector.Node(e,t,n),this.length++;if(e<n.idx)return this.list=new R.Vector.Node(e,t,n),this.length++;for(var r=n,i=n.next;null!=i;){if(e<i.idx)return r.next=new R.Vector.Node(e,t,i),this.length++;i=(r=i).next}return r.next=new R.Vector.Node(e,t,i),this.length++},R.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e,t=this.list,n=0;t;)n+=(e=t.val)*e,t=t.next;return this._magnitude=Math.sqrt(n)},R.Vector.prototype.dot=function(e){for(var t=this.list,n=e.list,r=0;t&&n;)t.idx<n.idx?t=t.next:(t.idx>n.idx||(r+=t.val*n.val,t=t.next),n=n.next);return r},R.Vector.prototype.similarity=function(e){return this.dot(e)/(this.magnitude()*e.magnitude())},R.SortedSet=function(){this.length=0,this.elements=[]},R.SortedSet.load=function(e){var t=new this;return t.elements=e,t.length=e.length,t},R.SortedSet.prototype.add=function(){var e,t;for(e=0;e<arguments.length;e++)t=arguments[e],~this.indexOf(t)||this.elements.splice(this.locationFor(t),0,t);this.length=this.elements.length},R.SortedSet.prototype.toArray=function(){return this.elements.slice()},R.SortedSet.prototype.map=function(e,t){return this.elements.map(e,t)},R.SortedSet.prototype.forEach=function(e,t){return this.elements.forEach(e,t)},R.SortedSet.prototype.indexOf=function(e){for(var t=0,n=this.elements.length,r=n-t,i=t+Math.floor(r/2),o=this.elements[i];1<r;){if(o===e)return i;o<e&&(t=i),e<o&&(n=i),r=n-t,i=t+Math.floor(r/2),o=this.elements[i]}return o===e?i:-1},R.SortedSet.prototype.locationFor=function(e){for(var t=0,n=this.elements.length,r=n-t,i=t+Math.floor(r/2),o=this.elements[i];1<r;)o<e&&(t=i),e<o&&(n=i),r=n-t,i=t+Math.floor(r/2),o=this.elements[i];return e<o?i:o<e?i+1:void 0},R.SortedSet.prototype.intersect=function(e){for(var t=new R.SortedSet,n=0,r=0,i=this.length,o=e.length,s=this.elements,a=e.elements;!(i-1<n||o-1<r);)s[n]!==a[r]?s[n]<a[r]?n++:s[n]>a[r]&&r++:(t.add(s[n]),n++,r++);return t},R.SortedSet.prototype.clone=function(){var e=new R.SortedSet;return e.elements=this.toArray(),e.length=e.elements.length,e},R.SortedSet.prototype.union=function(e){var t,n,r;this.length>=e.length?(t=this,n=e):(t=e,n=this),r=t.clone();for(var i=0,o=n.toArray();i<o.length;i++)r.add(o[i]);return r},R.SortedSet.prototype.toJSON=function(){return this.toArray()},R.Index=function(){this._fields=[],this._ref="id",this.pipeline=new R.Pipeline,this.documentStore=new R.Store,this.tokenStore=new R.TokenStore,this.corpusTokens=new R.SortedSet,this.eventEmitter=new R.EventEmitter,this.tokenizerFn=R.tokenizer,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},R.Index.prototype.on=function(){var e=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,e)},R.Index.prototype.off=function(e,t){return this.eventEmitter.removeListener(e,t)},R.Index.load=function(e){e.version!==R.version&&R.utils.warn("version mismatch: current "+R.version+" importing "+e.version);var t=new this;return t._fields=e.fields,t._ref=e.ref,t.tokenizer=R.tokenizer.load(e.tokenizer),t.documentStore=R.Store.load(e.documentStore),t.tokenStore=R.TokenStore.load(e.tokenStore),t.corpusTokens=R.SortedSet.load(e.corpusTokens),t.pipeline=R.Pipeline.load(e.pipeline),t},R.Index.prototype.field=function(e,t){var n={name:e,boost:(t=t||{}).boost||1};return this._fields.push(n),this},R.Index.prototype.ref=function(e){return this._ref=e,this},R.Index.prototype.tokenizer=function(e){return e.label&&e.label in R.tokenizer.registeredFunctions||R.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=e,this},R.Index.prototype.add=function(i,e){var o={},s=new R.SortedSet,t=i[this._ref];e=void 0===e||e,this._fields.forEach(function(e){var t=this.pipeline.run(this.tokenizerFn(i[e.name]));o[e.name]=t;for(var n=0;n<t.length;n++){var r=t[n];s.add(r),this.corpusTokens.add(r)}},this),this.documentStore.set(t,s);for(var n=0;n<s.length;n++){for(var r=s.elements[n],a=0,u=0;u<this._fields.length;u++){var c=this._fields[u],l=o[c.name],f=l.length;if(f){for(var h=0,p=0;p<f;p++)l[p]===r&&h++;a+=h/f*c.boost}}this.tokenStore.add(r,{ref:t,tf:a})}e&&this.eventEmitter.emit("add",i,this)},R.Index.prototype.remove=function(e,t){var n=e[this._ref];if(t=void 0===t||t,this.documentStore.has(n)){var r=this.documentStore.get(n);this.documentStore.remove(n),r.forEach(function(e){this.tokenStore.remove(e,n)},this),t&&this.eventEmitter.emit("remove",e,this)}},R.Index.prototype.update=function(e,t){t=void 0===t||t,this.remove(e,!1),this.add(e,!1),t&&this.eventEmitter.emit("update",e,this)},R.Index.prototype.idf=function(e){var t="@"+e;if(Object.prototype.hasOwnProperty.call(this._idfCache,t))return this._idfCache[t];var n=this.tokenStore.count(e),r=1;return 0<n&&(r=1+Math.log(this.documentStore.length/n)),this._idfCache[t]=r},R.Index.prototype.search=function(e){var t=this.pipeline.run(this.tokenizerFn(e)),d=new R.Vector,r=[],i=this._fields.reduce(function(e,t){return e+t.boost},0);return t.some(function(e){return this.tokenStore.has(e)},this)?(t.forEach(function(f,e,t){var h=1/t.length*this._fields.length*i,p=this,n=this.tokenStore.expand(f).reduce(function(e,t){var n=p.corpusTokens.indexOf(t),r=p.idf(t),i=1,o=new R.SortedSet;if(t!==f){var s=Math.max(3,t.length-f.length);i=1/Math.log(s)}-1<n&&d.insert(n,h*r*i);for(var a=p.tokenStore.get(t),u=Object.keys(a),c=u.length,l=0;l<c;l++)o.add(a[u[l]].ref);return e.union(o)},new R.SortedSet);r.push(n)},this),r.reduce(function(e,t){return e.intersect(t)}).map(function(e){return{ref:e,score:d.similarity(this.documentVector(e))}},this).sort(function(e,t){return t.score-e.score})):[]},R.Index.prototype.documentVector=function(e){for(var t=this.documentStore.get(e),n=t.length,r=new R.Vector,i=0;i<n;i++){var o=t.elements[i],s=this.tokenStore.get(o)[e].tf,a=this.idf(o);r.insert(this.corpusTokens.indexOf(o),s*a)}return r},R.Index.prototype.toJSON=function(){return{version:R.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},R.Index.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},R.Store=function(){this.store={},this.length=0},R.Store.load=function(n){var e=new this;return e.length=n.length,e.store=Object.keys(n.store).reduce(function(e,t){return e[t]=R.SortedSet.load(n.store[t]),e},{}),e},R.Store.prototype.set=function(e,t){this.has(e)||this.length++,this.store[e]=t},R.Store.prototype.get=function(e){return this.store[e]},R.Store.prototype.has=function(e){return e in this.store},R.Store.prototype.remove=function(e){this.has(e)&&(delete this.store[e],this.length--)},R.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},R.stemmer=(c={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},l={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},t="[aeiouy]",n="[^aeiou][^aeiouy]*",f=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),h=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),p=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),d=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),m=/^(.+?)(ss|i)es$/,g=/^(.+?)([^s])s$/,y=/^(.+?)eed$/,v=/^(.+?)(ed|ing)$/,w=/.$/,S=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),b=new RegExp("^"+n+t+"[^aeiouwxy]$"),k=/^(.+?[^aeiou])y$/,_=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,E=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,T=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,A=/^(.+?)(s|t)(ion)$/,F=/^(.+?)e$/,C=/ll$/,N=new RegExp("^"+n+t+"[^aeiouwxy]$"),function(e){var t,n,r,i,o,s,a;if(e.length<3)return e;if("y"==(r=e.substr(0,1))&&(e=r.toUpperCase()+e.substr(1)),o=g,(i=m).test(e)?e=e.replace(i,"$1$2"):o.test(e)&&(e=e.replace(o,"$1$2")),o=v,(i=y).test(e)){var u=i.exec(e);(i=f).test(u[1])&&(i=w,e=e.replace(i,""))}else o.test(e)&&(t=(u=o.exec(e))[1],(o=d).test(t)&&(s=x,a=b,(o=S).test(e=t)?e+="e":s.test(e)?(i=w,e=e.replace(i,"")):a.test(e)&&(e+="e")));return(i=k).test(e)&&(e=(t=(u=i.exec(e))[1])+"i"),(i=_).test(e)&&(t=(u=i.exec(e))[1],n=u[2],(i=f).test(t)&&(e=t+c[n])),(i=E).test(e)&&(t=(u=i.exec(e))[1],n=u[2],(i=f).test(t)&&(e=t+l[n])),o=A,(i=T).test(e)?(t=(u=i.exec(e))[1],(i=h).test(t)&&(e=t)):o.test(e)&&(t=(u=o.exec(e))[1]+u[2],(o=h).test(t)&&(e=t)),(i=F).test(e)&&(t=(u=i.exec(e))[1],o=p,s=N,((i=h).test(t)||o.test(t)&&!s.test(t))&&(e=t)),o=h,(i=C).test(e)&&o.test(e)&&(i=w,e=e.replace(i,"")),"y"==r&&(e=r.toLowerCase()+e.substr(1)),e}),R.Pipeline.registerFunction(R.stemmer,"stemmer"),R.generateStopWordFilter=function(e){var t=e.reduce(function(e,t){return e[t]=t,e},{});return function(e){return e&&t[e]!==e?e:void 0}},R.stopWordFilter=R.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),R.Pipeline.registerFunction(R.stopWordFilter,"stopWordFilter"),R.trimmer=function(e){var t=e.replace(/^\s+/,"").replace(/\s+$/,"");return""===t?void 0:t},R.Pipeline.registerFunction(R.trimmer,"trimmer"),R.TokenStore=function(){this.root={docs:{}},this.length=0},R.TokenStore.load=function(e){var t=new this;return t.root=e.root,t.length=e.length,t},R.TokenStore.prototype.add=function(e,t,n){n=n||this.root;var r=e.charAt(0),i=e.slice(1);return r in n||(n[r]={docs:{}}),0===i.length?(n[r].docs[t.ref]=t,void(this.length+=1)):this.add(i,t,n[r])},R.TokenStore.prototype.has=function(e){if(!e)return!1;for(var t=this.root,n=0;n<e.length;n++){if(!t[e.charAt(n)])return!1;t=t[e.charAt(n)]}return!0},R.TokenStore.prototype.getNode=function(e){if(!e)return{};for(var t=this.root,n=0;n<e.length;n++){if(!t[e.charAt(n)])return{};t=t[e.charAt(n)]}return t},R.TokenStore.prototype.get=function(e,t){return this.getNode(e,t).docs||{}},R.TokenStore.prototype.count=function(e,t){return Object.keys(this.get(e,t)).length},R.TokenStore.prototype.remove=function(e,t){if(e){for(var n=this.root,r=0;r<e.length;r++){if(!(e.charAt(r)in n))return;n=n[e.charAt(r)]}delete n.docs[t]}},R.TokenStore.prototype.expand=function(t,n){var e=this.getNode(t),r=e.docs||{};return n=n||[],Object.keys(r).length&&n.push(t),Object.keys(e).forEach(function(e){"docs"!==e&&n.concat(this.expand(t+e,n))},this),n},R.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},e=function(){return R},"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():this.lunr=e()}(),function(){function e(){this.config={minScore:1e-5,minNum:3,language:document.querySelector("html").getAttribute("lang")},this.init()}e.prototype={init:function(){this.container=document.getElementById("page-content"),this.loading=this.container.querySelector(".search__loader"),this.tpl=['<h2 class="search__result-wrap">',"en"==this.config.language?"Find <em>{{ num }}</em> {{ enDescription }} <em>{{ query }}</em>":"找到匹配<em>{{ query }}</em>的结果<em>{{ num }}</em>条","</h2>",'<div class="page__posts clearfix">',"{{ posts }}","</div>"].join(""),this.articleTpl=['<div class="page__post">','<article itemscope itemtype="http://schema.org/Article" class="page__mini-article">','<div class="mini-article__cover">','<img itemprop="image" src="{{ cover }}" alt="{{ title }}"/>','<div itemprop="datePublished" content="{{ date }}" class="mini-article__date">','<span class="date__day">{{ day }}</span>','<span class="date__month">{{ month }}</span>',"</div>",'<a itemprop="url" class="iconfont icon-enter" href="{{ url }}"></a>',"</div>",'<div class="mini-article__info">','<h3 itemprop="name" class="mini-article__title">','<a itemprop="url" href="{{ url }}" title="{{ title }}">{{ title }}</a>',"</h3>",'<p class="mini-article__author">by ','<span itemprop="author" itemscope itemtype="http://schema.org/Person">','<a itemprop="url" href="{{ authorLink }}" target="_blank">','<span itemprop="name">{{ authorNick }}</span>',"</a>","</span>","</p>",'<p itemprop="articleSection" class="min-article__desc">',"{{ desc }}","</p>",'<div class="min-article__tags">','<i class="iconfont icon-tab"></i>','<ul class="tags__list clearfix">',"{{ tagsHtml }}","</ul>","</div>","</div>","</article>","</div>"].join(""),this.tagsTpl='<li class="tags__item"><a href="{{ path }}">{{ name }}</a></li>',this.queryString=decodeURIComponent(location.search.split("=")[1]),this.getData()},getData:function(){var t=this;axios.get("/assets/lunr/all.json").then(function(e){return e.data}).then(function(e){t.initSearch(e)})},initSearch:function(e){this.index=lunr.Index.load(e.index),this.sourceData=e.store,this.result=this.index.search(this.queryString),this.filteredData=this.filterSourceData(),this.render()},compileTemplate:function(r,e){var i=r.match(/\{\{\s(\S+)\s\}\}/g),o=[],s="";function t(e){for(var t=r,n=0;n<i.length;n++)t=t.replace(/\{\{\s(\S+)\s\}\}/,e[o[n]]);s=t+s}for(var n=0;n<i.length;n++)o.push(i[n].replace(/\{\{\s(\S+)\s\}\}/,"$1"));return"[object Array]"===Object.prototype.toString.apply(e)?e.forEach(function(e){t(e)}):t(e),s},render:function(){var e=this.filteredData,t="",n="en"==this.config.language?"Sorry,the content of your search does not exist!":"抱歉，您要的内容似乎没有哦，不如换个关键字试试吧。",r=this;console.log("this:"+JSON.stringify(this)),e.length&&(this.filteredData=this.filteredData.map(function(e){return e.tagsHtml=r.compileTemplate(r.tagsTpl,e.tagArr),e}),t=this.compileTemplate(this.articleTpl,this.filteredData),n=this.compileTemplate(this.tpl,{query:this.queryString,num:this.filteredData.length,posts:t,enDescription:1<this.filteredData.length?"results that match":"result that matches"})),this.container.innerHTML=n,setTimeout(function(){window._skappPostAnimation()})},filterSourceData:function(){var n=this,r=[];return n.config.minNum,this.result.forEach(function(e,t){n.config.minScore>e.score&&t>=n.config.minScore.minNum||r.push(n.sourceData[e.ref])}),r}},window.addEventListener("load",function(){new e})}();